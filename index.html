<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>MADE IN BRASA | OS</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Manrope:wght@300;500;700;800&display=swap" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <link rel="stylesheet" href="style.css">
</head>
<body>

    <div id="modalOverlay">
        <div class="modal-box">
            <div class="modal-icon"><i class="fa-solid fa-triangle-exclamation"></i></div>
            <h3 class="modal-title">CONFIRMAR EXCLUSÃO</h3>
            <p class="modal-desc">Tem certeza que deseja apagar este registro?</p>
            <div class="modal-btns">
                <button class="m-btn no" onclick="closeModal()">CANCELAR</button>
                <button class="m-btn yes" onclick="confirmDelete()">SIM, APAGAR</button>
            </div>
        </div>
    </div>

    <div id="ember-container"></div>

    <section id="login-section">
        <div class="tilt-card" id="loginCard">
            <div class="tilt-content">
                <div class="logo-circle"></div>
                <div class="brand-title">MADE IN BRASA</div>
                <div class="brand-subtitle">OS System</div>
                <form id="loginForm">
                    <input type="text" class="cinematic-input" id="userInput" placeholder="ID" value="PEDRO">
                    <input type="password" class="cinematic-input" id="passInput" placeholder="PIN" value="1">
                    <button type="submit" class="btn-gold">ENTRAR</button>
                </form>
            </div>
        </div>
    </section>

    <section id="dashboard-section">
        <div class="glass-sidebar">
            <div class="dash-logo">
                <i class="fa-solid fa-fire"></i> BRASA OS
            </div>
            
            <input type="hidden" id="editIndex">

            <div>
                <span class="control-label">Tipo</span>
                <div class="type-switch">
                    <div class="switch-opt active inc" onclick="setMode('income')" id="btnInc">Entrada</div>
                    <div class="switch-opt" onclick="setMode('expense')" id="btnExp">Saída</div>
                </div>
            </div>
            
            <div>
                <span class="control-label">Descrição</span>
                <input type="text" id="desc" class="control-input" placeholder="Ex: Picanha Angus">
            </div>
            
            <div>
                <span class="control-label">Valor (R$)</span>
                <input type="number" id="val" class="control-input" placeholder="0.00">
            </div>
            
            <div>
                <span class="control-label">Categoria</span>
                <div class="custom-select-container">
                    <div class="select-trigger" id="catTrigger" onclick="toggleCatDropdown()">
                        <span id="catText">Selecione...</span>
                        <i class="fa-solid fa-chevron-down arrow"></i>
                    </div>
                    <div class="options-container" id="catOptions">
                        <div class="option" onclick="setCategory('Carne', 'Carnes / Insumos')">Carnes / Insumos</div>
                        <div class="option" onclick="setCategory('Bebida', 'Bebidas')">Bebidas</div>
                        <div class="option" onclick="setCategory('Venda', 'Vendas')">Vendas</div>
                        <div class="option" onclick="setCategory('Fixo', 'Custo Fixo')">Custo Fixo</div>
                        <div class="option" onclick="setCategory('Extra', 'Extra')">Extra</div>
                    </div>
                    <input type="hidden" id="cat" value="">
                </div>
            </div>
            
            <div>
                <span class="control-label">Data</span>
                <input type="date" id="date" class="control-input">
            </div>

            <button id="btnSave" class="button-launch" onclick="addTx()">
                <span id="btnText">Lançar</span>
                <div class="Container_particles_plus">
                    <span class="particles_plus"><svg viewBox="0 0 16 16" class="bi bi-plus" fill="#ffb700" height="28" width="28" xmlns="http://www.w3.org/2000/svg"><path d="M8 1a.5.5 0 0 1 .5.5V7h5.5a.5.5 0 0 1 0 1H8v5.5a.5.5 0 0 1-1 0V8H1.5a.5.5 0 0 1 0-1H7V1.5A.5.5 0 0 1 8 1z" fill-rule="evenodd"></path></svg></span>
                    <span class="particles_plus"><svg viewBox="0 0 16 16" class="bi bi-plus" fill="#ffb700" height="18" width="18" xmlns="http://www.w3.org/2000/svg"><path d="M8 1a.5.5 0 0 1 .5.5V7h5.5a.5.5 0 0 1 0 1H8v5.5a.5.5 0 0 1-1 0V8H1.5a.5.5 0 0 1 0-1H7V1.5A.5.5 0 0 1 8 1z" fill-rule="evenodd"></path></svg></span>
                    <span class="particles_plus"><svg viewBox="0 0 16 16" class="bi bi-plus" fill="#ffb700" height="16" width="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 1a.5.5 0 0 1 .5.5V7h5.5a.5.5 0 0 1 0 1H8v5.5a.5.5 0 0 1-1 0V8H1.5a.5.5 0 0 1 0-1H7V1.5A.5.5 0 0 1 8 1z" fill-rule="evenodd"></path></svg></span>
                    <span class="particles_plus"><svg viewBox="0 0 16 16" class="bi bi-plus" fill="#ffb700" height="34" width="34" xmlns="http://www.w3.org/2000/svg"><path d="M8 1a.5.5 0 0 1 .5.5V7h5.5a.5.5 0 0 1 0 1H8v5.5a.5.5 0 0 1-1 0V8H1.5a.5.5 0 0 1 0-1H7V1.5A.5.5 0 0 1 8 1z" fill-rule="evenodd"></path></svg></span>
                </div>
            </button>
            <button id="btnCancel" class="button-launch cancel-mode" onclick="cancelEdit()">Cancelar</button>

            <a href="https://wa.me/5517996239598" target="_blank" class="btn-support" title="Chamar Suporte">
                <div class="support-icon-box">
                    <div class="support-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 16 16" height="100%" width="100%">
                            <path fill="currentColor" d="M12.175 9H0V7H12.175L6.575 1.4L8 0L16 8L8 16L6.575 14.6L12.175 9Z"></path>
                        </svg>
                    </div>
                </div>
                <div class="support-text">Suporte</div>
            </a>
            
            <button class="Btn-logout" onclick="location.reload()">
                <div class="sign">
                    <svg viewBox="0 0 512 512"><path d="M377.9 105.9L500.7 228.7c7.2 7.2 11.3 17.1 11.3 27.3s-4.1 20.1-11.3 27.3L377.9 406.1c-6.4 6.4-15 9.9-24 9.9c-18.7 0-33.9-15.2-33.9-33.9l0-62.1-128 0c-17.7 0-32-14.3-32-32l0-64c0-17.7 14.3-32 32-32l128 0 0-62.1c0-18.7 15.2-33.9 33.9-33.9c9 0 17.6 3.6 24 9.9zM160 96L96 96c-17.7 0-32 14.3-32 32l0 256c0 17.7 14.3 32 32 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-64 0c-53 0-96-43-96-96L0 128C0 75 43 32 96 32l64 0c17.7 0 32 14.3 32 32s-14.3 32-32 32z"></path></svg>
                </div>
                <div class="text">Sair</div>
            </button>
        </div>

        <div class="main-view">
            <div class="view-header">
                <div>
                    <h2>VISÃO GERAL</h2>
                    <div class="date-navigator">
                        <i class="fa-solid fa-chevron-left" onclick="changeWeek(-1)"></i>
                        <span id="periodDisplay">CARREGANDO...</span>
                        <i class="fa-solid fa-chevron-right" onclick="changeWeek(1)"></i>
                        <span class="toggle-view-btn" onclick="toggleMonthView()">MÊS/SEMANA</span>
                    </div>
                </div>
                <div class="user-info">
                    <div class="user-label">USUÁRIO CONECTADO</div>
                    <div class="user-name">PEDRO GARCIA</div>
                </div>
            </div>

            <div class="cine-grid">
                <div class="cine-card">
                    <div class="card-label">Entradas</div>
                    <div class="card-value txt-gold" id="showInc">R$ 0,00</div>
                </div>
                <div class="cine-card">
                    <div class="card-label">Saídas</div>
                    <div class="card-value txt-fire" id="showExp">R$ 0,00</div>
                </div>
                <div class="cine-card">
                    <div class="card-label">Balanço</div>
                    <div class="card-value" id="showBal" style="color:#fff;">R$ 0,00</div>
                </div>
            </div>

            <div class="split-view">
                <div class="panel">
                    <h3 class="panel-title">EXTRATO DETALHADO</h3>
                    <div id="list" class="transaction-list"></div>
                </div>
                <div class="panel chart-panel">
                    <div class="chart-container">
                        <canvas id="myChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="script.js"></script>
</body>

</html>
